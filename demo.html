<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>jQuery表格展开折叠，默认折叠</title>
        <link rel="stylesheet" href="TableTree.css">
        <style>
            table{ border:0;border-collapse:collapse;}
            th{ font:bold 12px/17px Arial;text-align:left;padding:4px;border-bottom:1px solid #333;width:150px;}
        </style>
    </head>
    <body>
        <table id="tableTree" class="tableTree">
            <thead>
                <tr><th>名称</th><th>代码</th><th>类型</th><th>状态</th></tr>
            </thead>
            <tbody>
            </tbody>
        </table>
    <script src="jquery.js"></script>
    <script src="TableTree.js"></script>
    <script>
        var data = [{
            'id': 'id1',
            'pid': '0',
            'isParent': true,
            'attr': {
                'code': '123',
                'name': '总经销商',
                'type': '总经销商',
                'status': '激活'
            },    
            'children': [{
                'id': 'id3',
                'pid': 'id1',
                'isParent': false,
                'attr': {
                    'code': '123',
                    'name': '一级经销商',
                    'type': '分销商',
                    'status': '激活'
                },
                'children': []
            }, {
                'id': 'id4',
                'pid': 'id1',
                'isParent': true,
                'attr': {
                    'code': '123',
                    'name': '一级经销商',
                    'type': '分销商',
                    'status': '激活'
                },
                'children': [{
                    'id': 'id5',
                    'pid': 'id4',
                    'isParent': true,
                    'attr': {
                        'code': '123',
                        'name': '二级经销商',
                        'type': '分销商',
                        'status': '激活'
                    },
                    'children': [{
                        'id': 'id7',
                        'pid': 'id5',
                        'isParent': false,
                        'attr': {
                            'code': '123',
                            'name': '三级经销商',
                            'type': '分销商',
                            'status': '激活'
                        },
                        'children': []
                    }, {
                        'id': 'id8',
                        'pid': 'id5',
                        'isParent': false,
                        'attr': {
                            'code': '123',
                            'name': '三级经销商',
                            'type': '分销商',
                            'status': '激活'
                        },
                        'children': []
                    }]
                }, {
                    'id': 'id6',
                    'pid': 'id4',
                    'isParent': false,
                    'attr': {
                        'code': '123',
                        'name': '二级经销商',
                        'type': '分销商',
                        'status': '激活'
                    },
                    'children': []
                }]
            }]
        }, {
            'id': 'id2',
            'pid': '0',
            'isParent': false,
            'attr': {
                'code': '123',
                'name': '总经销商',
                'type': '总经销商',
                'status': '激活'
            },
            'children': []
        }];
        $(function(){
            window.tt = new CheckBoxTableTree({
                'tableArea' : $('#tableTree'),
                //'ajaxURL' : 'table.html',
                'thKey' : ['name', 'code', 'type', 'status'],
                'data' : data
            });
            tt.init();
        });
    </script>
    </body>
</html>
